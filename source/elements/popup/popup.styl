@import "../../helpers/*"

.popup
  position fixed
  top 50%
  left 30px
  right 30px
  transform translateY(-50%)
  background-color $white
  background-clip padding-box
  max-width 1120px
  margin -100vh auto 0
  z-index 1001
  box-shadow 0 0 25px 0 rgba($black, .25)
  font-family Arial, Helvetica, sans-serif

  &_scrolable
    position absolute
    top 30px
    transform none
    border-bottom 30px solid rgba($black, 0)
    box-shadow none

  &__subscribe
    position relative
    margin 0 40px
    &:after
      content ""
      display block
      clear both
      height 0
      line-height 0
      font-size 0

  &__submit
    height 56px
    background linear-gradient(to bottom, rgba(255,254,0,1) 0%,rgba(255,191,0,1) 100%);
    box-shadow inset 0 0 0 1px $yellow-light, 0 3px 0 0 $yellow-dark, 0 2px 0 5px rgba($black, .05)
    border-width 0
    border-style none
    border-radius 30px
    width 100%
    box-sizing border-box
    cursor pointer
    text-shadow 0 1px $yellow-light
    font-size 22px
    line-height 56px
    text-transform uppercase
    font-family 'PF Din Bold'
    white-space nowrap
    &_close
      display block
      width auto
      padding 0 40px
    &:hover
      background linear-gradient(to bottom, rgba(255,191,0,1) 0%, rgba(255,254,0,1) 100%);

  &__field
    width calc((100% - 255px)/2)
    float left
    position relative
    padding 40px 60px 30px 0
    box-sizing border-box
    &:last-child
      width 255px
      padding 40px 0 30px

  &__label
    position absolute
    top 40px
    left 0
    bottom 30px
    padding 19px
    height 18px
    font-size 16px
    line-height 18px
    margin-top 0
    box-sizing border-box
    transition margin-top .25s
    color $green
    white-space nowrap

  &__input
    border 1px solid $mid-grey
    font-size 16px
    line-height 18px
    padding 19px
    border-radius 4px
    font-family Arial, Helvetica, sans-serif
    width 100%
    height 56px
    box-sizing border-box
    &:focus
      border-color $yellow
      box-shadow 0 0 0 1px $yellow, inset 0 0 2px 0 rgba($black, .25)
    &[data-changed] + .popup__label
    &:focus + .popup__label
      margin-top -47px

    &_error:focus,
    &_error
      border-color $red
      & + .popup__label
        color $red
      &:focus
        box-shadow 0 0 0 1px $red, inset 0 0 2px 0 rgba($black, .25)

  &__feature
    float left
    width 25%
    padding 0 0 0 75px
    box-sizing border-box
    white-space nowrap
    font-sizing 16px
    background-position 0 50%
    background-repeat no-repeat
    &_icon
      &_eco
        background-image url("../images/feature-1.svg")
      &_video
        background-image url("../images/feature-2.svg")
      &_article
        background-image url("../images/feature-3.svg")
      &_news
        background-image url("../images/feature-4.svg")
  &__features
    margin 0 40px
    border-top 1px solid $grey
    padding 29px 0 10px
    line-height 60px
    font-size 16px
    &:after
      clear both
      height 0
      font-size 0
      line-height 0
      overflow hidden
      content ""
      display block
  &__disclaimer
    position absolute
    left 0
    right 0
    bottom 0
    white-space nowrap
    text-overflow ellipsis
    overflow hidden
    width 100%
    padding 0 40px
    box-sizing border-box
    color $dark-green
    a
      color $dark-green
      font-size 13px
      line-height 40px
      &:hover
        text-decoration none
  &__title
    font-family 'PF Din Bold'
    color $white
    text-transform uppercase
    font-size 40px
    line-height 54px
    padding 0
    margin 0 0 20px
    max-width 640px
  &__header
    height 185px
    padding 50px 40px
    background $green url('../images/popup-bg.jpg') 525px 100% no-repeat
    position relative
  &__lightbox
    display none
    z-index 1000
    position fixed
    top 0
    bottom 0
    left 0
    right 0
    background rgba($white, .75)
  &__close
    z-index 1002
    padding 0
    margin -10px 0 0 0
    border-style none
    position absolute
    right 0
    top 0
    width 24px
    height 24px
    border-radius 100%
    background $red url("../images/close.svg") 50% 50% no-repeat
    background-size 10px 10px
    cursor pointer
    transition background-color .25s
    &:hover
      background-color darken($red, 25%)


@media (max-width: 1180px)
  html body .popup
    &__feature
      width 50%

@media (max-width: 960px)
  html body .popup
    &__subscribe
      margin 20px 40px 0 280px
    &__field,
    &__field:last-child
      display block
      float none
      width auto
      padding 0
      margin 0 0 20px
    &__input:focus + .popup__label
      margin-top 0
    &__input[data-changed] + .popup__label,
    &__input:focus + .popup__label,
    &__label
      top 0
      bottom 0
      left -260px
      margin-top 0

@media (max-width: 900px)
  html body .popup
    &__header
      height auto
      background-image none
    &__title
      max-width none
      font-size 36px
      line-height 42px

@media (max-width: 700px)
  html body .popup
    left 15px
    right 15px
    &__header
      padding 20px
    &__disclaimer
      position static
      white-space normal
      margin 0
      width auto
      padding 0
      a
        font-size 12px
        line-height 14px
    &__field
      margin 0 0 10px
    &__subscribe
      margin 15px 15px 0
    &__submit
      height 40px
      border-radius 20px
      line-height 45px
      font-size 16px
    &__features
      margin 0 15px
      padding 10px 0 15px
    &__feature
      display list-item
      list-style inside disc
      padding 0
      background none
      line-height 24px
      font-size 18px
    &__input
      position relative
      top 30px
      height 30px
      padding 7px 5px
      line-height 16px
      font-size 14px
    &__label
      position relative
      line-height 30px
      padding 0 5px
      left auto
      bottom 30px
      right auto
      top auto
    &__feature
      width auto
      display block
      float none
    &__title
      font-size 12px
      line-height 16px
